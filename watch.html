{% extends 'base.html' %}

{% block title %}Watch Video{% endblock %}

{% block content %}
<h2 class="text-center">Now Watching: {{ filename }}</h2>
<div class="text-center mt-4">
    <!-- Video Player -->
    <video id="videoPlayer" controls autoplay style="width: 100%; max-width: 800px;">
        <source src="{{ url_for('static', filename='videos/' + filename) }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
</div>

<!-- Custom Buttons for Forward/Backward -->
<div class="mt-3 d-flex justify-content-center gap-3">
    <button id="backwardBtn" class="btn btn-danger mx-3" onclick="seekBackward()" style="width: 120px;">
        ⏪ 10 Seconds
    </button>
    <button id="forwardBtn" class="btn btn-primary mx-3" onclick="seekForward()" style="width: 120px;">
        10 Seconds ⏩
    </button>
</div>

<div class="mt-4 text-center">
    <a href="/" class="btn btn-secondary">Back to Videos</a>
</div>

<!-- JavaScript to Control Forward and Backward Actions -->
<script>
    const video = document.getElementById('videoPlayer');

    function seekBackward() {
        video.currentTime = Math.max(0, video.currentTime - 10); // Move 10s back
    }

    function seekForward() {
        video.currentTime = Math.min(video.duration, video.currentTime + 10); // Move 10s forward
    }
</script>
{% endblock %}
